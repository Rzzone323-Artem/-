<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>–ü–†–û–°–í–ï–¢–õ–ï–ù–ò–ï</title>
<link rel="stylesheet" href="style.css">
<script src="sounds.js"></script>
</head>

<body>

<!-- –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –≥–∏—Ñ–∫–∏ –ø–æ –±–æ–∫–∞–º -->

<script>
let secretMusicSource = null;
let secretMusicGainNode = null;

// –û–•–£–ï–ù–ù–û –¢–ê–ò–ù–°–¢–í–ï–ù–ù–ê–Ø –ú–£–ó–´–ö–ê –ù–ê 1 –ú–ò–ù–£–¢–£
function playSecretMusic() {
    if (secretMusicSource) {
        stopSecretMusic(); // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –µ—Å–ª–∏ —É–∂–µ –∏–≥—Ä–∞–µ—Ç
    }
    
    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
    const duration = 60; // 1 –º–∏–Ω—É—Ç–∞
    const sampleRate = 44100;
    const numSamples = duration * sampleRate;
    
    const buffer = audioContext.createBuffer(2, numSamples, sampleRate); // –°—Ç–µ—Ä–µ–æ!
    const leftChannel = buffer.getChannelData(0);
    const rightChannel = buffer.getChannelData(1);
    
    // –°–æ–∑–¥–∞–µ–º –û–•–£–ï–ù–ù–û —Ç–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω—É—é –º—É–∑—ã–∫—É
    for (let i = 0; i < numSamples; i++) {
        const t = i / sampleRate;
        
        // –û—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Ç–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –º—É–∑—ã–∫–∏
        
        // 1. –ù–∏–∑–∫–∏–π –≥—É–ª (–±–∞—Å–æ–≤–∞—è –ª–∏–Ω–∏—è)
        const bassFreq = 55 + Math.sin(t * 0.1) * 10; // 55-65 –ì—Ü —Å –º–æ–¥—É–ª—è—Ü–∏–µ–π
        const bass = Math.sin(2 * Math.PI * bassFreq * t) * 0.3;
        
        // 2. –¢–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—ç–¥ (–∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω—ã–π)
        const padFreq = 110 * (1 + Math.sin(t * 0.05) * 0.1);
        const pad = Math.sin(2 * Math.PI * padFreq * t) * 0.2;
        const pad2 = Math.sin(2 * Math.PI * padFreq * 1.5 * t) * 0.1;
        
        // 3. –í—ã—Å–æ–∫–∏–µ —á–∞—Å—Ç–æ—Ç—ã (—Ç–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–µ —à–æ—Ä–æ—Ö–∏)
        const noiseFreq = 2000 + Math.random() * 1000;
        const noise = (Math.random() - 0.5) * 0.05 * Math.exp(-t * 0.1);
        
        // 4. –ú–µ–ª–æ–¥–∏—è (–∑–∞–≥–∞–¥–æ—á–Ω–∞—è, –º–µ–¥–ª–µ–Ω–Ω–∞—è)
        const melodyNotes = [196, 220, 246, 261, 293, 329, 369, 392]; // G3-G4
        const melodyIndex = Math.floor(t * 0.5) % melodyNotes.length;
        const melodyFreq = melodyNotes[melodyIndex];
        const melody = Math.sin(2 * Math.PI * melodyFreq * t) * 0.1 * Math.exp(-((t % 2) - 1) * 2);
        
        // 5. –≠—Ñ—Ñ–µ–∫—Ç "—ç—Ö–æ –∏–∑ –ø—Ä–æ—à–ª–æ–≥–æ"
        const echo = Math.sin(2 * Math.PI * 440 * (t - 0.5)) * 0.05 * (t > 0.5 ? 1 : 0);
        
        // 6. –ü—É–ª—å—Å–∞—Ü–∏—è (—Å–µ—Ä–¥—Ü–µ –ó–æ–Ω—ã)
        const pulse = Math.sin(2 * Math.PI * 0.8 * t) * 0.1;
        
        // –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ –≤–º–µ—Å—Ç–µ
        let leftSignal = bass + pad + pad2 + noise + melody + echo + pulse;
        let rightSignal = bass + pad + pad2 + noise + melody * 0.8 + echo * 1.2 + pulse;
        
        // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–µ—Ä–µ–æ —ç—Ñ—Ñ–µ–∫—Ç (–¥–≤–∏–∂–µ–Ω–∏–µ –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ)
        const stereoPan = Math.sin(t * 0.2) * 0.3;
        leftSignal *= (1 - stereoPan);
        rightSignal *= (1 + stereoPan);
        
        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ
        leftChannel[i] = Math.tanh(leftSignal) * 0.8;
        rightChannel[i] = Math.tanh(rightSignal) * 0.8;
    }
    
    // –°–æ–∑–¥–∞–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫ –∏ —É–∑–ª—ã
    secretMusicSource = audioContext.createBufferSource();
    secretMusicSource.buffer = buffer;
    
    // –£–∑–µ–ª –≥—Ä–æ–º–∫–æ—Å—Ç–∏ - –ì–õ–ê–í–ù–û–ï: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≥—Ä–æ–º–∫–æ—Å—Ç—å 0.1!
    secretMusicGainNode = audioContext.createGain();
    secretMusicGainNode.gain.value = 0.1; // –¢–∏—Ö–∞—è –≥—Ä–æ–º–∫–æ—Å—Ç—å
    
    // –†–µ–≤–µ—Ä–±–µ—Ä–∞—Ü–∏—è –¥–ª—è —Ç–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
    const convolver = audioContext.createConvolver();
    const reverbLength = audioContext.sampleRate * 3; // 3 —Å–µ–∫—É–Ω–¥—ã —Ä–µ–≤–µ—Ä–±–µ—Ä–∞—Ü–∏–∏
    const reverbBuffer = audioContext.createBuffer(2, reverbLength, audioContext.sampleRate);
    
    for (let channel = 0; channel < 2; channel++) {
        const channelData = reverbBuffer.getChannelData(channel);
        for (let i = 0; i < reverbLength; i++) {
            channelData[i] = (Math.random() * 2 - 1) * Math.pow(1 - i / reverbLength, 2);
        }
    }
    
    convolver.buffer = reverbBuffer;
    
    // –§–∏–ª—å—Ç—Ä –¥–ª—è —Ç–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
    const filter = audioContext.createBiquadFilter();
    filter.type = 'lowpass';
    filter.frequency.value = 800;
    filter.Q.value = 2;
    
    // –°–æ–µ–¥–∏–Ω—è–µ–º –≤—Å–µ —É–∑–ª—ã
    secretMusicSource.connect(filter);
    filter.connect(secretMusicGainNode);
    secretMusicGainNode.connect(convolver);
    convolver.connect(audioContext.destination);
    secretMusicGainNode.connect(audioContext.destination);
    
    // –ó–∞–ø—É—Å–∫–∞–µ–º –º—É–∑—ã–∫—É
    secretMusicSource.start(0);
    
    console.log('üéµ –û–•–£–ï–ù–ù–û –¢–ê–ò–ù–°–¢–í–ï–ù–ù–ê–Ø –ú–£–ó–´–ö–ê –ù–ê–ß–ê–õ–ê–°–¨! 1 –º–∏–Ω—É—Ç–∞ –ø—Ä–æ—Å–≤–µ—Ç–ª–µ–Ω–∏—è...');
    
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ –º–∏–Ω—É—Ç—É
    setTimeout(() => {
        stopSecretMusic();
        console.log('üéµ –ú—É–∑—ã–∫–∞ –ø—Ä–æ—Å–≤–µ—Ç–ª–µ–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –î–æ—Å—Ç–∏–≥–Ω–∏—Ç–µ –¥–∑–µ–Ω–∞...');
    }, 60000);
}

function stopSecretMusic() {
    if (secretMusicSource) {
        secretMusicSource.stop();
        secretMusicSource = null;
        secretMusicGainNode = null;
        console.log('üéµ –¢–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –º—É–∑—ã–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞');
    }
}

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
window.addEventListener('load', () => {
        setTimeout(() => {
            playSecretMusic();
        }, 1000); // –ó–∞–ø—É—Å–∫–∞–µ–º —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
});

// –ú–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—Ä–∞–∑—ã –¥–ª—è —Å–µ–∫—Ä–µ—Ç–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
const phrases = [
    "–ü–†–û–°–ù–ò–°–¨",
    "–ó–ï–ú–õ–Ø –ü–õ–û–°–ö–ê–Ø",
    "–ù–ï –í–ï–†–¨ –ì–õ–ê–ó–ê–ú",
    "–¢–†–ï–¢–ò–ô –ì–õ–ê–ó –û–¢–ö–†–´–¢",
    "–í–ï–ß–ù–û–°–¢–¨ –ë–õ–ò–ó–ö–û",
    "–°–õ–ï–î–£–ô –ó–ê –ó–í–ï–ó–î–û–ô",
    "–ó–û–ù–ê –í–´–ó–´–í–ê–ï–¢",
    "–ú–£–î–†–û–°–¢–¨ –í –¢–ò–®–ò–ù–ï",
    "–≠–ù–ï–†–ì–ò–Ø –ß–ï–†–ï–ó –ö–†–ê–ô",
    "–ü–û–†–û–ì –ù–ï–í–ò–î–ò–ú",
    "–ò–°–¢–ò–ù–ê –í–ù–£–¢–†–ò",
    "–°–í–ï–¢ –í–û –¢–¨–ú–ï",
    "–í–†–ï–ú–Ø –ò–õ–õ–Æ–ó–ò–Ø",
    "–ó–ù–ê–ù–ò–ï –°–ò–õ–ê",
    // –ù–û–í–´–ï –§–†–ê–ó–´:
    "–ö–í–ê–ù–¢–û–í–´–ô –ü–ï–†–ï–•–û–î",
    "–°–û–ó–ù–ê–ù–ò–ï –ú–ï–ù–Ø–ï–¢–°–Ø",
    "–†–ï–ê–õ–¨–ù–û–°–¢–¨ –ò–õ–õ–Æ–ó–ò–Ø",
    "–í–ò–ë–†–ê–¶–ò–ò –í–°–ï–õ–ï–ù–ù–û–ô",
    "–ü–û–†–¢–ê–õ –û–¢–ö–†–´–¢",
    "–ß–ï–¢–í–ï–†–¢–û–ï –ò–ó–ú–ï–†–ï–ù–ò–ï",
    "–ê–ö–ê–®–ò–ß–ï–°–ö–ò–ï –ó–ê–ü–ò–°–ò",
    "–ü–Ø–¢–ê–Ø –°–¢–ò–•–ò–Ø –û–¢–ö–†–´–¢–ê",
    "–≠–ù–ï–†–ì–ï–¢–ò–ß–ï–°–ö–ò–ô –ü–û–¢–û–ö",
    "–ö–û–°–ú–ò–ß–ï–°–ö–ê–Ø –°–í–Ø–ó–¨",
    "–ü–ê–†–ê–õ–õ–ï–õ–¨–ù–´–ô –ú–ò–†",
    "–ú–ù–û–ñ–ï–°–¢–í–ï–ù–ù–û–°–¢–¨ –†–ï–ê–õ–¨–ù–û–°–¢–ï–ô",
    "–ò–ù–§–û–†–ú–ê–¶–ò–û–ù–ù–û–ï –ü–û–õ–ï",
    "–ß–ê–ö–†–´ –°–£–î–¨–ë–´",
    "–ü–†–û–®–õ–û–ï –í–õ–ò–Ø–ï–¢ –ù–ê–°–¢–û–Ø–©–ï–ï",
    "–ú–ê–¢–†–ò–¶–ê –í–û–ó–ú–û–ñ–ù–û–°–¢–ï–ô",
    "–†–ï–ó–û–ù–ê–ù–° –ß–ê–°–¢–û–¢",
    "–≠–ù–ï–†–ì–ï–¢–ò–ß–ï–°–ö–ò–ô –ò–ú–ü–£–õ–¨–°",
    "–ü–°–ò–•–û–ê–ö–¢–ò–ß–ï–°–ö–ò–ô –≠–§–§–ï–ö–¢",
    "–ù–£–õ–ï–í–û–ï –ü–û–õ–ï –°–û–ó–ù–ê–ù–ò–Ø",
    "–¢–†–ê–ù–°–¶–ï–ù–î–ï–ù–¢–ê–õ–¨–ù–´–ô –û–ü–´–¢",
    "–í–ò–ë–†–ê–¶–ò–û–ù–ù–ê–Ø –ú–ï–î–ò–¶–ò–ù–ê",
    "–ö–û–°–ú–ò–ß–ï–°–ö–û–ï –°–û–ó–ù–ê–ù–ò–ï",
    "–ö–í–ê–ù–¢–û–í–ê–Ø –ó–ê–ü–£–¢–ê–ù–ù–û–°–¢–¨"
];

let phraseIndex = 0;
let phraseElement = null;

function showMysticPhrase() {
    // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—É—é —Ñ—Ä–∞–∑—É –µ—Å–ª–∏ –µ—Å—Ç—å
    if (phraseElement) {
        phraseElement.remove();
    }
    
    // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é —Ñ—Ä–∞–∑—É
    phraseElement = document.createElement('div');
    phraseElement.className = 'mystic-phrase';
    phraseElement.textContent = phrases[phraseIndex];
    
    // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
    const positions = [
        { top: '20%', left: '10%' },
        { top: '30%', right: '15%' },
        { top: '50%', left: '20%' },
        { top: '70%', right: '10%' },
        { top: '80%', left: '30%' },
        { top: '15%', right: '25%' },
        { top: '60%', left: '15%' },
        { top: '40%', right: '20%' }
    ];
    
    const pos = positions[Math.floor(Math.random() * positions.length)];
    Object.assign(phraseElement.style, pos);
    
    document.body.appendChild(phraseElement);
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ—Ä–∞–∑—É
    setTimeout(() => {
        phraseElement.style.opacity = '1';
    }, 100);
    
    // –°–∫—Ä—ã–≤–∞–µ–º —á–µ—Ä–µ–∑ 4 —Å–µ–∫—É–Ω–¥—ã
    setTimeout(() => {
        if (phraseElement) {
            phraseElement.style.opacity = '0';
            setTimeout(() => {
                if (phraseElement) {
                    phraseElement.remove();
                    phraseElement = null;
                }
            }, 2000);
        }
    }, 4000);
    
    // –°–ª–µ–¥—É—é—â–∞—è —Ñ—Ä–∞–∑–∞
    phraseIndex = (phraseIndex + 1) % phrases.length;
}

// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ—Ä–∞–∑—ã –≤ —Å–ª—É—á–∞–π–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã - –ß–ê–©–ï –∏ –ß–ê–°–¢–ï!
setInterval(() => {
    const random = Math.random();
    if (random < 0.7) { // 70% —à–∞–Ω—Å
        showMysticPhrase();
    }
}, 4000); // –ö–∞–∂–¥—ã–µ 4 —Å–µ–∫—É–Ω–¥—ã
</script>

<div class="header">
<img src="img/left.gif">
<span class="title">üîÆ –ü–†–û–°–í–ï–¢–õ–ï–ù–ò–ï üîÆ</span>
<img src="img/right.gif">
</div>

<div style="text-align: center; margin: 50px 0;">
<h1 style="color: #C0C0C0; font-size: 48px; text-shadow: 0 0 30px #8a2be2; font-family: 'Times New Roman', serif;">
–í–´ –ú–û–ñ–ï–¢–ï –ù–ê–°–õ–ê–î–ò–¢–¨–°–Ø –≠–¢–û–ô –ö–ê–†–¢–ò–ù–ö–û–ô
</h1>
</div>

<div style="text-align: center; margin: 30px 0;">
<img src="img/alchemy.gif" style="width: 300px; filter: drop-shadow(0 0 50px #8a2be2); animation: pulse 2s infinite;" alt="–í–µ–ª–∏–∫–∏–π –ê–ª—Ö–∏–º–∏–∫">
</div>

<div style="text-align: center; margin: 30px 0;">
<p style="color: #C0C0C0; font-size: 24px; font-family: 'Times New Roman', serif; font-style: italic;">
"–¢—Ä–∞–Ω—Å–º—É—Ç–∞—Ü–∏—è —Å–æ–∑–Ω–∞–Ω–∏—è –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –æ–¥–Ω–æ–≥–æ –≤–∑–≥–ª—è–¥–∞..."
</p>
</div>

<div style="text-align: center; margin: 30px 0;">
<div style="color: #8a2be2; font-size: 18px; font-family: 'Times New Roman', serif; margin-bottom: 20px;">
üéµ <strong>–°–ª—É—à–∞–π—Ç–µ —Ç–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω—É—é –º—É–∑—ã–∫—É –ø—Ä–æ—Å–≤–µ—Ç–ª–µ–Ω–∏—è</strong> üéµ
</div>
<div style="color: #C0C0C0; font-size: 16px; font-family: 'Times New Roman', serif; opacity: 0.8;">
–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 1 –º–∏–Ω—É—Ç–∞ –ø–æ–ª–Ω–æ–≥–æ –ø–æ–≥—Ä—É–∂–µ–Ω–∏—è –≤ —Ç–∞–π–Ω—ã –ó–æ–Ω—ã
</div>
</div>

<div class="menu">
<a href="index.html">üè† –ì–õ–ê–í–ù–ê–Ø</a> |
<a href="catalog.html">üì¶ –ö–ê–¢–ê–õ–û–ì</a> |
<a href="amulets.html">üîÆ –ê–ú–£–õ–ï–¢–´</a> |
<a href="horoscope.html">üåü –ì–û–†–û–°–ö–û–ü–´</a> |
<a href="forum.html">üí¨ –§–û–†–£–ú</a> |
<a href="about.html">üìñ –û –ù–ê–°</a> |
<a href="contacts.html">üìû –ö–û–ù–¢–ê–ö–¢–´</a>
</div>

<div style="text-align: center; margin: 50px 0;">
<a href="about.html" style="color: #C0C0C0; font-size: 20px; text-decoration: none; font-family: 'Times New Roman', serif;">
–í–ï–†–ù–£–¢–¨–°–Ø –ö –ú–£–î–†–û–°–¢–ò –ê–õ–•–ò–ú–ò–ö–ê
</a>
</div>

</body>
</html>
